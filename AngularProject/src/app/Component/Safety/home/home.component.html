
<form role="form" id="Home" name="Home" #Home="ngForm" novalidate>

  <section class="h-100 gradient-form" style="background-color:white;">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-xl-6">
          <div class="">
            <div class="row g-0 justify-content-center">
              <div class="col-lg-10">
                <div class="card-body p-md-5 mx-md-4">
                  <div class="text-center">
                    <img src="assets\img\SIPjeUAi_400x400.jpg" style="width: 185px;" alt="logo">
                    <h4 class="mt-1 mb-5 pb-1">CTP APPLICATION PORTAL</h4>
                  </div>

                  <div class="form-outline mb-4">
                    <input class="form-control" style="width: 59px; float: left; font-weight: bold;" placeholder="Application Reference No." autocomplete="off" value="IAS-" disabled />
                    <input style="width: calc(100% - 65px) !important; float: right;" type="number" name="isid" #isid="ngModel" [(ngModel)]="ObjIsa.Id" class="form-control" placeholder="Application Reference No." autocomplete="off" required />
                    <div *ngIf="isid.invalid && IsValid" class="text text-danger">
                      <div *ngIf="isid.errors?.required && IsValid">
                        Required Your Reference No.
                      </div>
                    </div>
                  </div>
                  <div class="text-center pt-1 mb-5 pb-1">
                    <button class="btn btn-primary btn-block fa-lg  mb-3" type="submit" (click)="btnViewDetail(Home,ObjIsa.Id,ViewDetails)" style="background: #5f4496 ">View Application</button>
                  </div>
                  <div class="d-flex align-items-center justify-content-center pb-4">
                    <button type="button" class="btn btn-outline-danger" routerLink="/ISA/Isa">Apply New Application</button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- View-Detail -->
  <ng-template #ViewDetails>
    <div class="modal-header">
      <h4 class="modal-title pull-left">ISA - {{objdetail.id}}</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">Ã—</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="border">
        <div class="blockbgtheme pageheaderblock mb-0" style="color:white; text-align:left;"> <h5>Personal Information</h5></div>
        <div class="row col-sm-12">
          <div class="col-sm-4">Contractor Name : <br /><b>{{objdetail.contractorName}}</b></div>
          <div class="col-sm-4">Programme  : <br /><b>{{objdetail.programApplying}}</b></div>
          <div class="col-sm-4">Year  : <br /><b>{{objdetail.year}}</b></div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-4">First Name : <br /><b>{{objdetail.title}}  {{objdetail.firstName}}</b></div>
          <div class="col-sm-4">Middle Initial  : <br /><b>{{objdetail.middleInitial}}</b></div>
          <div class="col-sm-4">Family Name   : <br /><b>{{objdetail.familyName}}</b></div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-4">Date of Birth : <br /><b>{{objdetail.dateofBirth | date: 'MM/dd/yyyy'}}</b></div>
          <div class="col-sm-4">Place of Birth  :<br /> <b>{{objdetail.placeofBirth}}</b></div>
          <div class="col-sm-4">Country    : <br /><b>{{objdetail.country}}</b></div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-4">Nationality  : <br /><b>{{objdetail.nationality}}</b></div>
          <div class="col-sm-4">Sex : <br /><b>{{objdetail.sex}}</b></div>
          <div class="col-sm-4">Marital Status : <br /><b>{{objdetail.maritalStatus}}</b></div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-4">Residence Address : <br /><b>{{objdetail.residenceAddress}}</b></div>
          <div class="col-sm-4">Business Address  : <br /><b>{{objdetail.businessAddress}}</b></div>
          <div class="col-sm-4" style="display:none;">Residence No.  : <br /><b>{{objdetail.residenceNo}}</b></div>
          <div class="col-sm-4" style="display:none;">Office No.  : <br /><b>{{objdetail.officeNo}}</b></div>
          <div class="col-sm-4">Cell No.  : <br /><b>{{objdetail.cellNo}}</b></div>
          <div class="col-sm-4" style="display:none;">Fax No.  : <br /><b>{{objdetail.faxNo}}</b></div>
          <div class="col-sm-4">Email  : <br /><b>{{objdetail.email}}</b></div>


        </div>
      </div><br />

      <div class="border">
        <div class="blockbgtheme pageheaderblock mb-0" style="color:white; text-align:left;"> <h5>Passport Information</h5></div>
        <div class="row col-sm-12">
          <div class="col-md-8">
            <div class="row">
              <div class="col-sm-6">Passport No. : <br /><b>{{objdetail.passportNo}}</b></div>
              <div class="col-sm-6">Date of Issue : <br /><b>{{objdetail.dateofIssue | date: 'MM/dd/yyyy'}} </b></div>
              <div class="col-sm-6">Place of Issue : <br /><b>{{objdetail.placeofIssue}}</b></div>
              <div class="col-sm-6">Date of Expiry : <br /><b>{{objdetail.dateofExpiry | date: 'MM/dd/yyyy'}}</b></div>
            </div>
          </div>
          <div class="col-md-4">
            Passport Photo:
            <div style="max-width:200px;" *ngIf="objdetail.PassportPhotopath != null">
              <img class="img-fluid" id="PassportPhoto" alt="image" [attr.src]="objdetail.PassportPhotopath" (click)="openPassportPhoto()" />
            </div>
          </div>
        </div>
      </div><br />

      <div class="border">
        <div class="blockbgtheme pageheaderblock mb-0" style="color:white; text-align:left;"> <h5>Proficiency in English</h5></div>
        <div class="row col-sm-12">
          <div class="col-sm-4">Listening : <br /><b>{{objdetail.listening}}</b></div>
          <div class="col-sm-4">Speaking  : <br /><b>{{objdetail.speaking }}</b></div>
          <div class="col-sm-4">Writing : <br /><b>{{objdetail.writing }}</b></div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-4">Reading : <br /><b>{{objdetail.reading}}</b></div>
          <div class="col-sm-4">Other Language : <br /><b>{{objdetail.otherLanguage }}</b></div>
          <div class="col-sm-4">Mother Language : <br /><b>{{objdetail.motherLanguage}}</b></div>
        </div>
      </div><br />

      <div class="border">
        <div class="blockbgtheme pageheaderblock mb-0" style="color:white; text-align:left;"> <h5>Education (University or equivalent)</h5></div>
        <ng-container *ngFor="let education of objdetail.education">
          <div style="border-bottom: 1px solid #dee2e6"></div>
          <div class="row col-sm-12">
            <div class="col-sm-4">Name of Institution : <br /><b>{{education.nameofInstitution}}</b></div>
            <!--<div class="col-sm-4">Program Applying : <br /><b>{{education.programApplying}}</b></div>-->
            <div class="col-sm-4">Education From Year And Month : <br /><b>{{education.educationFromYear}}  {{education.educationFromMonth}}</b></div>
            <div class="col-sm-4">Education To Year And Month : <br /><b>{{education.educationToYear}}  {{education.educationToMonth}}</b></div>
          </div>
          <div class="row col-sm-12">
            <!--<div class="col-sm-4">Education To Year And Month : <br /><b>{{objdetail.educationToYear}}  {{objdetail.educationToMonth}}</b></div>-->
            <div class="col-sm-4">Address : <br /><b>{{education.address}}</b></div>
            <div class="col-sm-4">Field of Study  : <br /><b>{{education.fieldofStudy}}<br /><i class="fa fa-dot-circle-o" aria-hidden="true" *ngIf="education.fieldofStudySubCategory"></i> {{education.fieldofStudySubCategory ? education.fieldofStudySubCategory :""}}</b></div>
            <div class="col-sm-4">Qualification : <br /><b>{{education.qualification}}</b></div>
          </div>
          <br />
        </ng-container>
        <!--<div class="row col-sm-12"><div class="col-sm-3">Qualification : <br /><b>{{objdetail.qualification}}</b></div></div>-->
      </div><br />

      <div class="border">
        <div class="blockbgtheme pageheaderblock mb-0" style="color:white; text-align:left;">
          <h5>Additional skills & Experience</h5>
        </div>
        <div *ngFor="let additionalSkill of objdetail.additionalSkills">
          <div class="row col-sm-12">
            <div class="col-sm-12">Previously selected for an ISA Contractor Training Programme : <br /><b> {{additionalSkill.haveyoubeenpreviouslyselected}}</b></div>
            <div class="col-sm-12" *ngIf="additionalSkill.haveyoubeenpreviouslyselected == 'Yes'">In Which programme and In Which year : <br /><b>{{additionalSkill.whichprogrammeName}} - {{additionalSkill.whichyear}}</b></div>
          </div>
          <div class="row col-sm-12">
            <div class="col-sm-12" *ngIf="additionalSkill.haveyoubeenpreviouslyselected == 'Yes' && additionalSkill.whichprogramme != null">Participate in the training : <br /><b> {{additionalSkill.didyouparticipate}}</b></div>
          </div>
          <div class="row col-sm-12">
            <div class="col-sm-12">Fields/Topics of Scientific Interest : <br /><b>{{additionalSkill.fieldsofScientificInterest}}</b></div>
            <div class="col-sm-12">Research undertaken : <br /><b>{{additionalSkill.researchundertakenifany}}</b></div>
          </div>
          <div class="row col-sm-12">
            <div class="col-sm-12">Participation in international symposia : <br /><b>{{additionalSkill.participationininternationalsymposia}}</b></div>
            <div class="col-sm-12">At-sea Working Experience : <br /><b>{{additionalSkill.atseaWorkingExperience}}</b></div>
          </div>
          <div class="row col-sm-12">
            <div class="col-sm-12">Indicate how this Training Programme : <br /><b>{{additionalSkill.trainingProgrammewillfurtheryourcareer}}</b></div>
          </div>
        </div>
      </div><br />

      <div class="border edudetailsblocksmodal">
        <div class="blockbgtheme pageheaderblock mb-0" style="color:white; text-align:left;"> <h5>Employment Record</h5></div>
        <div class="blockborder" *ngFor="let empRecord of objdetail.employment; let i = index">
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-4">
                Present Post From Year And Month :<br />
                <b>
                  {{empRecord.fromYear}}
                  {{empRecord.fromMonth}}
                </b>
              </div>
              <div class="col-md-4">
                Present Post To Year And Month :<br />
                <b>
                  {{empRecord.toYear}}
                  {{empRecord.toMonth}}
                </b>
              </div>
              <div class="col-md-4">Name of Employer : <br /><b>{{empRecord.employerName}}</b></div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-4">Title of Position :<br /> <b>{{empRecord.position }}</b></div>
              <div class="col-md-4">Address of Employer :<br /> <b>{{empRecord.employerAddress }}</b></div>
              <div class="col-md-4">Responsibilities :<br /> <b>{{empRecord.responsibilities }}</b></div>
            </div>
          </div>
        </div>

      </div><br />
      <div class="border edudetailsblocksmodal">
        <div class="blockbgtheme pageheaderblock">
          <h5>Supporting Documents</h5>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="attachedfilesmain">
              <ng-container *ngFor="let file of objdetail.supportingDocList;let f =index;">
                <div class="docscuspads">
                  <div class="dociconattach" (click)="DownloadFile(file.fileName,objdetail.id+'/'+file.docId+'/'+file.fileName,file.fileType)">
                    <img src="../assets/img/docicons/{{file.fileType=='pdf' ?  'pdf.png'  : (file.fileType=='jpg' || file.fileType=='jepg') ? 'jpg.png' : file.fileType=='png' ? 'png.png' : (file.fileType=='docx' || file.fileType=='doc') ? 'doc.png' : '' }}" />
                  </div>
                  <div class="docattachcontent">
                    <h6 class="filename mb-0">{{file.fileName}}</h6>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</form>
